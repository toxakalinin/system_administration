#Linux-usage

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —è –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é –Ω–∞–≤—ã–∫–∏ —Ä–∞–±–æ—Ç—ã —Å Linux —Å–∏—Å—Ç–µ–º–∞–º–∏ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö.

## üíª –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞–º–∏

–Ø –ª–∏—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª, –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª, –ª–æ–º–∞–ª –∏ –∏—Å–ø—Ä–∞–≤–ª—è–ª –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ Linux:
- **–î–ª—è —Ä–∞–±–æ—á–∏—Ö —Å—Ç–∞–Ω—Ü–∏–π**: Ubuntu, Fedora, Linux Lite, Kali, Parrot, BlackArch
- **–î–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤**: Debian, CentOS, Alpine

–ù–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –º–∞—à–∏–Ω–∞—Ö —è —É–≤–µ—Ä–µ–Ω–Ω–æ:
- –°–æ–∑–¥–∞—é –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –Ω–æ—Å–∏—Ç–µ–ª–∏ (Rufus, Etcher, `dd`)
- –£–ø—Ä–∞–≤–ª—è—é —Ä–∞–∑–¥–µ–ª–∞–º–∏ –¥–∏—Å–∫–∞ (GParted, —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏, CLI)
- –í—ã–ø–æ–ª–Ω—è—é —Ç–æ–Ω–∫—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É —Å–∏—Å—Ç–µ–º

–ù–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω–∞—Ö:
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—é –±–∞–ª–∞–Ω—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É—é —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏

**–ú–æ–π –≤—ã–±–æ—Ä –¥–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤ - Debian** –±–ª–∞–≥–æ–¥–∞—Ä—è:
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏
- –®–∏—Ä–æ–∫–æ–º—É –≤—ã–±–æ—Ä—É –ü–û –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
- –ë–æ–≥–∞—Ç–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤—É
- –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏ –≤ enterprise-—Å—Ä–µ–¥–µ

## üñ•Ô∏è –ü—Ä–∞–∫—Ç–∏–∫–∞ –Ω–∞ VPS (Debian 12)

### üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –ø–æ SSH
ssh admin@aka0601-vps-5

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
admin@aka0601-vps-5:~$ pwd
/home/admin

# –°–º–æ—Ç—Ä–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (–≤–∫–ª—é—á–∞—è —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã)
admin@aka0601-vps-5:~$ ls -A
.bash_history  .bash_logout  .bashrc  .cache  .config  .profile  
.sudo_as_admin_successful  myweb  myweb-main.zip
```

### üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –í—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
admin@aka0601-vps-5:~$ ps aux
USER         PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root           1  0.0  1.1 102096 12068 ?        Ss   04:46   0:00 /sbin/init
www-data     370  0.0  0.6  21300  6868 ?        S    04:46   0:00 nginx: worker process
admin        382  0.0  3.4  41472 35152 ?        S    04:46   0:00 /home/admin/myweb/venv/bin/python3 ...
... [—Å–æ–∫—Ä–∞—â–µ–Ω–æ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏] ...

# –ü–æ–∏—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π CPU
admin@aka0601-vps-5:~$ ps -eo pid,ppid,cmd,%mem,%cpu --sort=-%cpu | awk '$5 > 10'
    PID    PPID CMD                         %MEM %CPU
    427     368 sshd: admin [priv]           1.0  0.5
    451     450 -bash                        0.4  0.3

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ zombie-–ø—Ä–æ—Ü–µ—Å—Å—ã
admin@aka0601-vps-5:~$ ps aux | awk '$8=="Z" {print $2, $11}'
[–≤—ã–≤–æ–¥ –ø—É—Å—Ç - —Ö–æ—Ä–æ—à–∏–π –∑–Ω–∞–∫!]
```

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ (top)
```bash
admin@aka0601-vps-5:~$ top
Tasks:  73 total,   2 running,  71 sleeping,   0 stopped,   0 zombie
%Cpu(s):  0.0 us,  0.0 sy,  0.0 ni, 99.7 id,  0.0 wa,  0.0 hi,  0.3 si,  0.0 st 
MiB Mem :   1000.8 total,    715.5 free,    287.7 used,    132.1 buff/cache
MiB Swap:      0.0 total,      0.0 free,      0.0 used.    713.1 avail Mem 

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
     15 root      20   0       0      0      0 R   0.3   0.0   0:00.97 rcu_preempt
    450 admin     20   0   17680   6576   4680 S   0.3   0.6   0:00.07 sshd
      1 root      20   0  102096  12068   9232 S   0.0   1.2   0:00.43 systemd
... [—Å–æ–∫—Ä–∞—â–µ–Ω–æ] ...
```

### üåê –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–ª—É—à–∞—é—â–∏—Ö –ø–æ—Ä—Ç–æ–≤
admin@aka0601-vps-5:~$ sudo netstat -tulpn
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address    Foreign Address State    PID/Program name    
tcp        0      0 0.0.0.0:22      0.0.0.0:*        LISTEN   368/sshd: /usr/sbin 
tcp        0      0 0.0.0.0:80      0.0.0.0:*        LISTEN   369/nginx: master p 
tcp        0      0 0.0.0.0:443     0.0.0.0:*        LISTEN   369/nginx: master p 
... [—Å–æ–∫—Ä–∞—â–µ–Ω–æ] ...

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö SSH-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
admin@aka0601-vps-5:~$ ss -t -a sport = :22
State    Recv-Q   Send-Q     Local Address:Port     Peer Address:Port   Process                 
LISTEN   0        128             0.0.0.0:ssh           0.0.0.0:*                  
ESTAB    0        52        77.222.54.243:ssh     178.71.122.75:56742               
LISTEN   0        128                [::]:ssh              [::]:*                  
```

### üíæ –î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
```bash
# –û–±–∑–æ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞
admin@aka0601-vps-5:~$ df -h
Filesystem      Size  Used Avail Use% Mounted on
/dev/vda1       9.9G  1.7G  7.7G  18% /
tmpfs           501M     0  501M   0% /dev/shm

# –ü–æ–∏—Å–∫ —Ä–∞–∑–¥–µ–ª–æ–≤ —Å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º >10%
admin@aka0601-vps-5:~$ df -h | awk '$5 >= "10%" {print $6 " " $5}'
/ 18%

# –ü–æ–∏—Å–∫ –±–æ–ª—å—à–∏—Ö –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
admin@aka0601-vps-5:~$ sudo find /var/log -type f -size +10M -exec du -h {} \;
41M     /var/log/journal/...journal
17M     /var/log/nginx/access.log
```

### ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
```bash
# –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
admin@aka0601-vps-5:~$ sudo systemctl list-units --type=service --state=running
  UNIT                      LOAD   ACTIVE SUB     DESCRIPTION             
  nginx.service             loaded active running A high performance web server
  ssh.service               loaded active running OpenBSD Secure Shell server
  kalininantoxa.service     loaded active running Gunicorn —Å–µ—Ä–≤–µ—Ä –¥–ª—è myproject
... [—Å–æ–∫—Ä–∞—â–µ–Ω–æ] ...

# –î–µ—Ç–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
admin@aka0601-vps-5:~$ sudo systemctl status kalininantoxa
‚óè kalininantoxa.service - Gunicorn —Å–µ—Ä–≤–µ—Ä –¥–ª—è myproject
     Loaded: loaded (/etc/systemd/system/kalininantoxa.service; enabled; preset: enabled)
     Active: active (running) since Tue 2025-06-24 04:46:22 MSK; 31min ago
   Main PID: 361 (gunicorn)
      Tasks: 4 (limit: 1173)
     Memory: 81.1M
        CPU: 1.075s
... [—Å–æ–∫—Ä–∞—â–µ–Ω–æ] ...

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
admin@aka0601-vps-5:~$ sudo journalctl --unit=kalininantoxa.service | grep 'Jun 24 '
Jun 24 04:46:22 aka0601-vps-5 systemd[1]: Started kalininantoxa.service
Jun 24 04:46:23 aka0601-vps-5 gunicorn[361]: [INFO] Starting gunicorn 23.0.0
... [—Å–æ–∫—Ä–∞—â–µ–Ω–æ] ...
```

### üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
```bash
admin@aka0601-vps-5:~$ sudo cat /etc/systemd/system/kalininantoxa.service
[Unit]
Description=Gunicorn —Å–µ—Ä–≤–µ—Ä –¥–ª—è myproject
After=network.target

[Service]
User=admin
Group=www-data
WorkingDirectory=/home/admin/myweb
Environment="PATH=/home/admin/myweb/venv/bin"
ExecStart=/home/admin/myweb/venv/bin/gunicorn --workers 3 --bind unix:myweb.sock -m 007 wsgi:app

[Install]
WantedBy=multi-user.target
```

### üîé –ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```bash
# –ü–æ–∏—Å–∫ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–æ–∫ –≤ –ª–æ–≥–∞—Ö
admin@aka0601-vps-5:~$ sudo journalctl -b -1 --since "10 minutes ago" | grep -i 'reboot\|panic\|error'
[–≤—ã–≤–æ–¥ –ø—É—Å—Ç - —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞]

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–ø—ã—Ç–æ–∫ –≤–∑–ª–æ–º–∞ SSH
admin@aka0601-vps-5:~$ sudo journalctl -u sshd | grep 'Failed password'
[–≤—ã–≤–æ–¥ –ø—É—Å—Ç - —Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–∑–Ω–∞–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏]
```